\documentclass{article}

\usepackage{amssymb}
\usepackage{mathtools}

\newcommand{\horz}{\noindent\makebox[\linewidth]{\rule{\paperwidth}{0.4pt}}}

\newtagform{bad}{...}{...}
\newtagform{good}[\textbf]{[}{]}
\renewtagform{good}[\textbf]{.[}{].}
\usetagform{bad}
\usetagform{good}

\mathtoolsset{
showonlyrefs,
mathic % or mathic = true
}

\begin{document}

\[
X = \sum_{1\le i\le j\le n} X_{ij}
\]
\[
X = \sum_{\mathclap{1\le i\le j\le n}} X_{ij}
\]

\horz

\[
\cramped{x^2} \leftrightarrow x^2 \quad
\cramped[\scriptstyle]{x^2} \leftrightarrow {\scriptstyle x^2}
\]

\horz

\[
V = \sum_{1\le i\le j\le n}^{\infty} V_{ij} \quad
X = \smashoperator{\sum_{1\le i\le j\le n}^{3456}} X_{ij} \quad
Y = \smashoperator[r]{\sum\limits_{1\le i\le j\le n}} Y_{ij} \quad
Z = \smashoperator[l]{\mathop{T}_{1\le i\le j\le n}} Z_{ij}
\]

\horz

\[
\text{a)} \lim_{n\to\infty} \max_{p\ge n} \quad
\text{b)} \lim_{n\to\infty} \max_{p^2\ge n} \quad
\text{c)} \lim_{n\to\infty} \sup_{p^2\ge nK} \quad
\text{d)} \limsup_{n\to\infty} \max_{p\ge n}
\]

\[
\text{a)} \adjustlimits\lim_{n\to\infty} \max_{p\ge n} \quad
\text{b)} \adjustlimits\lim_{n\to\infty} \max_{p^2\ge n} \quad
\text{c)} \adjustlimits\lim_{n\to\infty} \sup_{p^2\ge nK} \quad
\text{d)} \adjustlimits\limsup_{n\to\infty} \max_{p\ge n}
\]

\horz

\noindent\rule\textwidth{1pt}
\begin{align*} A &= B \end{align*}
\noindent\rule\textwidth{1pt}
\begin{align*}
\SwapAboveDisplaySkip
A &= B
\end{align*}

\horz

\begin{equation}
E \neq m c^3
\end{equation}

\horz

\begin{quote}\renewcommand*\rmdefault{ppl}\normalfont\itshape
\begin{equation*}
a=b \label{eq:example}\tag*{Q\&A}
\end{equation*}
See \ref{eq:example} or is it better with \refeq{eq:example}?
\end{quote}

\horz

\[
A \xLeftarrow[under]{over} B \xRightarrow[under]{over} C
\]
\[
x \xleftrightarrow[under]{overlooooooong} y \xLeftrightarrow[underloooooooong]{over} z
\]
\[
x \xhookleftarrow[bar]{foo} y \xhookrightarrow[bluuuuuuuuub]{baz} t \xmapsto{heeereee} k
\]
\[
k \xleftharpoonup[.]{} l \xleftharpoondown{..} m \xrightharpoondown[...]{} n \xrightharpoonup{....} o
\]
\[
x \xrightleftharpoons{bluuuuub} y \xleftrightharpoons[blaaaaaab]{} z
\]

\horz

\[
z = \LaTeXoverbrace{
   \underbracket{x}_\text{real} + i
      \underbracket[1pt][7pt]{y}_\text{imaginary}
        }^\text{complex number}
\quad
\underbrace{1+1}_{=2}
\]

\horz

\[
\begin{matrix*}
c & cocococococo \\
c & c
\end{matrix*}
\]

\[
\begin{matrix*}[l]
lalalalalala & l \\
l & l
\end{matrix*}
\]

\[
\begin{matrix*}[r]
rererererere & r \\
r & r
\end{matrix*}
\]

\horz

\[
\begin{pmatrix*}[l]
ppppppp & foo \\
l & ppppppppppppppp
\end{pmatrix*}
\]

\[
\begin{bmatrix*}
b & b \\
b & b
\end{bmatrix*}
\]

\[
\begin{Bmatrix*}[r]
B & B \\
B & BBBBBBBrBBBBBB
\end{Bmatrix*}
\]

\[
\begin{vmatrix*}
v & v \\
v & v
\end{vmatrix*}
\]

\[
\begin{Vmatrix*}[c]
V & V \\
VVVVVVcVVVVVV & bar
\end{Vmatrix*}
\]

\horz

\[
\begin{vsmallmatrix*}[l]
a & blblblbllbblblblblblblbl \\
c & d
\end{vsmallmatrix*}
\]

\[
\begin{bsmallmatrix} a & -b \\ -c & d \end{bsmallmatrix}
\begin{bsmallmatrix*}[r] a & -b \\ -c & d \end{bsmallmatrix*}
\]

\[
\begin{Vsmallmatrix} e & -f \\ -g & h \end{Vsmallmatrix}
\begin{Vsmallmatrix*}[r] e & -f \\ -g & h \end{Vsmallmatrix*}
\]

\horz

\[
\begin{cases}
E = m c^2 & \text{Nothing to see here} \\
\int x-3\, dx & \text{Integral is text style}
\end{cases}
\]

\[
\begin{dcases}
E = m c^2 & c \approx 3.00\times 10^{8}\,\mathrm{m}/\mathrm{s} \\
\int x-3\, dx & \text{Integral is display style}
\end{dcases}
\]

\[
a= \begin{dcases*}
E = m c^2 & Nothing to see here (text in math) \\
\int x-3\, dx & Integral is display style (text in math)
\end{dcases*}
\]

\[
\begin{rcases}
E = m c^2 & 5^6 \quad and so on \\
\int x-3\, dx & \int x \, dx
\end{rcases} = b
\]

\[
\begin{rcases*}
x^2 & for $\int x\,dx>0$\\
x^3 & else
\end{rcases*} \Rightarrow \cdots
\]

\[
\begin{drcases}
E = m c^2 & 5^6 \quad and so on \\
\int x-3\, dx & \int x \, dx
\end{drcases} = b
\]

\[
\begin{drcases*}
x^2 & for $\int x\,dx>0$\\
\int x^3\,x & else
\end{drcases*} \Rightarrow \cdots
\]

\[
\text{foo} = \begin{cases*}
\pi & if something\\
\int \Omega^\Xi\,\Omega & otherwise
\end{cases*}
\]

\horz

\[
A = \begin{gathered}[t]
\framebox[4cm]{first} \\
\framebox[4cm]{last}
\end{gathered} B
\]

\[
\begin{gathered}
a=b+c\\
b=c+d\\
...
\end{gathered}
\]

\horz

\[
\boxed{hello}
\]

%\begin{align*}
%\Aboxed{ f(x) & = \int h(x)\, dx} \\
%& = g(x)
%\end{align*}

\horz

\begin{align}
a&=b \intertext{Some text}
c&=d \shortintertext{Some short text}
e&=f
\end{align}

\horz

\[
\lvert \frac{a}{c} \rvert \quad \left\lvert \frac{a}{c} \right\rvert \quad \Bigg\lvert \frac{a}{b} \Bigg\rvert
\]

\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\[
\abs{\frac{a}{b}} \quad \abs*{\frac{a}{b}} \quad \abs[\big]{\frac{a}{b}} \quad \abs[\Bigg]{\frac{a}{b}}
\]
\reDeclarePairedDelimiterInnerWrapper\abs{star}{#1\_#2\_#3}
\reDeclarePairedDelimiterInnerWrapper\abs{nostar}{#1@#2@#3}
\[
\abs{\pi} \quad \abs*{\phi}
\]

\DeclarePairedDelimiterX\innerp[2]{\langle}{\rangle}{#1,#2}
\DeclarePairedDelimiterX\braket[3]{\langle}{\rangle}{#1\,\delimsize\vert\,#2\,\delimsize\vert\,#3}
\[
\innerp*{A}{ \frac{1}{2} } \quad
\braket[\Big]{B}{\sum_{k} f_k}{C}
\]

\providecommand\given{}
\newcommand\SetSymbol[1][]{#1\vert\allowbreak}
\DeclarePairedDelimiterX\Set[1]\{\}{\renewcommand\given{\SetSymbol[\delimsize]}#1}
\[ \Set*{ x \in X \given \frac {\sqrt{x}}{x^2+1} > 1 } \]

\DeclarePairedDelimiterXPP\lnorm[1]{}\lVert\rVert{_2}{#1}
\DeclarePairedDelimiterXPP\Prop[1]{\mathbb{P}}(){}{\renewcommand\given{\delimsize\vert}#1}
\[
\lnorm{\frac{\pi}{\int x dx}} \quad \Prop{foo}
\]

\horz

\[
\left( \frac{\pi}{\omega} \right) \cdot \left[ \int x dx \right] \ldots \lbrack \sqrt{\frac{\sin x}{\cos z}} \rbrack \cdots \lparen \frac{\frac{foo}{bar}}{\frac{baz}{qux}} \rparen
\]

\horz

\[
a := b \quad
a \vcentcolon= b \quad
a \ordinarycolon= b
\]

\[
a \coloneqq b \quad c \Colonapprox d \quad e \dblcolon f
\]

\[
\bigtimes \nuparrow \times \ndownarrow \otimes \bigotimes
\]

\[
\lim_{a\ndownarrow 0} f(a) \neq A \bigtimes B_n X_n \quad
\frac{ C \bigtimes D_{k=1}^7 B_k \nuparrow \Omega }{2}
\]

\horz

\[
{}^{4}_{12}\mathbf{C}^{5+}_{2} \quad
\prescript{14}{2}{\mathbf{C}}^{5+}_{2} \quad
\prescript{4}{12}{\mathbf{C}}^{5+}_{2} \quad
\prescript{14}{}{\mathbf{C}}^{5+}_{2} \quad
\prescript{}{2}{\mathbf{C}}^{5+}_{2}
\]

\newcommand*\myisotope[3]{%
\begingroup % to keep changes local. We cannot use a brace group
% as it affects spacing!
\mathtoolsset{
prescript-sup-format=\mathit,
prescript-sub-format=\mathbf,
prescript-arg-format=\mathrm,
}%
\prescript{#1}{#2}{#3}%
\endgroup
}
\[
\myisotope{A}{Z}{X}\to \myisotope{A-4}{Z-2}{Y}+
\myisotope{4}{2}{\alpha}
\]

\[
{}^{\mathbf{Y}}
\]

\horz

\end{document}
